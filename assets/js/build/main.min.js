Charades=function(){var a={};return{init:function(){a.packs=$(".row-packs"),a.charades=$(".row-charades"),a.navigation=$(".row-navigation"),a.navCorrect=$(".nav-correct"),a.navIncorrect=$(".nav-incorrect"),a.countDown=$(".row-countdown"),a.time=20,a.timeLeft=$(".time-left"),a.summary=$(".row-summary"),a.answered=[],this.setupUIComponents(),this.bindUIActions()},setupUIComponents:function(){$.getJSON("packs/manifest.json",function(a){Charades.displayPacks(a)})},bindUIActions:function(){$("body").on("click",".pack",function(a){a.preventDefault(),Charades.showPack($(this).attr("data-pack"))}),a.navCorrect.click(function(){Charades.answerCorrect($(".charade.active"))}),a.navIncorrect.click(function(){Charades.answerIncorrect($(".charade.active"))})},displayPacks:function(e){$.each(e,function(e,t){a.packs.append('<a class="pack" data-pack="'+e+'" href="#">'+t+"</a>")})},showPack:function(e){a.packs.hide(),a.charades.show(),a.navigation.show(),this.countDown(),$.getJSON("packs/data/"+e+".json",function(e){$.each(e,function(e,t){a.charades.append('<div class="charade">'+t+"</div>")}),a.charades.find(".charade").first().addClass("active")})},countDown:function(){a.countDown.show();var e=a.countDown.find(".time"),t=3;e.text(t);var n=setInterval(function(){t-=1,e.text(t),0===t&&(clearInterval(n),a.countDown.hide(),Charades.startTimer(a.time))},1e3)},startTimer:function(e){a.timeLeft.text(e);var t=setInterval(function(){e-=1,a.timeLeft.text(e),0===e&&(clearInterval(t),Charades.showSummary())},1e3)},answerCorrect:function(e){var t=e.text();e.text("Correct"),a.charades.addClass("correct"),a.answered.push(["correct",t]),setTimeout(function(){e.text(t),a.charades.removeClass("correct"),Charades.nextCharade()},1e3)},answerIncorrect:function(e){var t=e.text();e.text("Pass"),a.charades.addClass("incorrect"),a.answered.push(["incorrect",t]),setTimeout(function(){e.text(t),a.charades.removeClass("incorrect"),Charades.nextCharade()},1e3)},nextCharade:function(){$(".charade.active").next().length?$(".charade.active").removeClass("active").next().addClass("active"):($(".charade.active").removeClass("active"),$(".charade").first().addClass("active"))},showSummary:function(){a.summary.show(),$.each(a.answered,function(e,t){a.summary.append('<div class="summary '+t[0]+'">'+t[1]+"</div>")})},shuffleArray:function(a){var e,t,n;for(n=a.length;n;n--)e=Math.floor(Math.random()*n),t=a[n-1],a[n-1]=a[e],a[e]=t}}}(),$(document).ready(function(){Charades.init()});